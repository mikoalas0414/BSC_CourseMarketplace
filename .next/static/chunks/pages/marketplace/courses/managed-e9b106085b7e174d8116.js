(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[638],{35100:function(e,t,r){"use strict";r.d(t,{x:function(){return d},B:function(){return f}});var n=r(92809),s=r(38634),a=r(809),c=r.n(a),i=r(30266),o=r(89451);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=15,h=function(){var e=(0,i.Z)(c().mark((function e(t){var r,n,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.json();case 5:return s=e.sent,e.abrupt("return",null!==(r=s.market_data.current_price.usd)&&void 0!==r?r:null);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e,t=(0,o.ZP)("https://api.coingecko.com/api/v3/coins/binancecoin?localization=false&tickers=false&market_data=true&community_data=false&developer_data=false&sparkline=false",h,{refreshInterval:1e4}),r=t.data,n=(0,s.Z)(t,["data"]);return{eth:u({data:r,perItem:null!==(e=r&&(d/Number(r)).toFixed(6))&&void 0!==e?e:null},n)}}},67817:function(e,t,r){"use strict";r.d(t,{Y:function(){return h}});var n=r(85893),s=r(86669),a=r(32975),c=r(35100),i=r(25675);function o(){var e=(0,c.B)().eth;return(0,n.jsxs)("div",{className:"flex flex-col xs:flex-row text-center",children:[(0,n.jsxs)("div",{className:"p-6 border drop-shadow rounded-md mr-2",children:[(0,n.jsx)("div",{className:"flex items-center justify-center",children:e.data?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.default,{layout:"fixed",height:"30",width:"30",src:"/small-eth.webp",style:{Position:"relative",marginLeft:"50px"}}),(0,n.jsxs)("span",{className:"text-xl font-bold",style:{color:"white"},children:["= ",e.data,"$"]})]}):(0,n.jsx)("div",{className:"w-full flex justify-center",children:(0,n.jsx)(a.aN,{size:"md"})})}),(0,n.jsx)("p",{className:"text-lg ",style:{color:"white"},children:"Current BNB Price"})]}),(0,n.jsxs)("div",{className:"p-6 border drop-shadow rounded-md",children:[(0,n.jsx)("div",{className:"flex items-center justify-center",children:e.data?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"text-xl font-bold",style:{color:"white"},children:e.perItem}),(0,n.jsx)(i.default,{layout:"fixed",height:"30",width:"30",src:"/small-eth.webp"}),(0,n.jsxs)("span",{className:"text-xl font-bold",style:{color:"white"},children:["= ",c.x,"$"]})]}):(0,n.jsx)("div",{className:"w-full flex justify-center",style:{color:"white"},children:(0,n.jsx)(a.aN,{size:"md"})})}),(0,n.jsx)("p",{className:"text-lg text-white-500",style:{color:"white"},children:"Price por curso"})]})]})}var l=r(23009);function u(){var e=(0,l.$)().requireInstall,t=(0,s.vL)(),r=t.account,c=t.network;return(0,n.jsx)("section",{className:"text-white bg-green-600 rounded-lg",children:(0,n.jsxs)("div",{className:"p-8",children:[(0,n.jsxs)("h1",{className:"text-base xs:text-xl break-words",children:["Hello, ",r.data]}),(0,n.jsx)("h2",{className:"subtitle mb-5 text-sm xs:text-base",children:"I hope you are having a great day!"}),(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("div",{className:"sm:flex sm:justify-center lg:justify-start",children:(0,n.jsx)(a.zx,{className:"mr-2 text-sm xs:text-lg p-2",variant:"white",children:"Learn how to purchase"})}),(0,n.jsxs)("div",{children:[c.hasInitialResponse&&!c.isSupported&&(0,n.jsxs)("div",{className:"bg-red-400 p-4 rounded-lg",children:[(0,n.jsx)("div",{children:"Connected to wrong network"}),(0,n.jsxs)("div",{children:["Connect to: "," ",(0,n.jsx)("strong",{className:"text-2xl",children:c.target})]})]}),e&&(0,n.jsx)("div",{className:"bg-yellow-500 p-4 rounded-lg",children:"Cannot connect to network. Please install Metamask."}),c.data&&(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{children:"Currently on "}),(0,n.jsx)("strong",{className:"text-2xl",children:c.data})]})]})]})]})})}var d=[{href:"/marketplace",value:"Buy"},{href:"/marketplace/courses/owned",value:"My Courses"},{href:"/marketplace/courses/managed",value:"Manage Courses",requireAdmin:!0}];function h(){var e=(0,s.mA)().account;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"pt-4",children:(0,n.jsx)(u,{})}),(0,n.jsx)(o,{}),(0,n.jsx)("div",{className:"flex flex-row-reverse p-4 sm:px-6 lg:px-8",children:(0,n.jsx)(a.Oo,{isAdmin:e.isAdmin,items:d})})]})}},80159:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var n=r(85893),s=r(809),a=r.n(s),c=r(30266),i=r(92809),o=r(86669),l=r(23009),u=r(32975),d=r(90492),h=r(1935),f=r(67817),x=r(33223),p=r(73075),m=r(67294);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b=function(e){var t=e.onVerify,r=(0,m.useState)(""),s=r[0],a=r[1];return(0,n.jsxs)("div",{className:"flex mr-2 relative rounded-md",children:[(0,n.jsx)("input",{value:s,onChange:function(e){var t=e.target.value;return a(t)},type:"text",name:"account",id:"account",className:"w-96 focus:ring-green-500 shadow-md focus:border-green-500 block pl-7 p-4 sm:text-sm border-white-300 rounded-md",placeholder:"0x2341ab..."}),(0,n.jsx)(u.zx,{onClick:function(){t(s)},children:"Verify"})]})};function g(){var e,t=(0,m.useState)({}),r=t[0],s=t[1],h=(0,m.useState)(null),v=h[0],g=h[1],w=(0,m.useState)({state:"all"}),y=w[0],N=w[1],O=(0,l.$)(),k=O.web3,P=O.contract,C=(0,o.Aj)({redirectTo:"/marketplace"}).account,_=(0,o.J$)(C).managedCourses,S=function(){var e=(0,c.Z)(a().mark((function e(t,r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.methods[r](t).send({from:C.data});case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),Z=function(){var e=(0,c.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,p.f)(S(t,"activateCourse"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=(0,c.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,p.f)(S(t,"deactivateCourse"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=(0,c.Z)(a().mark((function e(t){var r,n,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=/[0-9A-Fa-f]{6}/g,!t||66!==t.length||!r.test(t)){e.next=9;break}return e.next=4,P.methods.getCourseByHash(t).call();case 4:if("0x0000000000000000000000000000000000000000"===(n=e.sent).owner){e.next=9;break}return s=(0,x.h)(k)({hash:t},n),g(s),e.abrupt("return");case 9:g(null);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(e,t){return(0,n.jsxs)(d.p5,{isSearched:t,course:e,children:[(0,n.jsx)(b,{onVerify:function(t){!function(e,t){var n=t.hash,a=t.proof;if(e){var c=k.utils.sha3(e),o=k.utils.soliditySha3({type:"bytes32",value:c},{type:"bytes32",value:n});s(j(j({},r),{},o===a?(0,i.Z)({},n,!0):(0,i.Z)({},n,!1)))}}(t,{hash:e.hash,proof:e.proof})}}),r[e.hash]&&(0,n.jsx)("div",{className:"mt-2",children:(0,n.jsx)(u.v0,{children:"Verified!"})}),!1===r[e.hash]&&(0,n.jsx)("div",{className:"mt-2",children:(0,n.jsx)(u.v0,{type:"danger",children:"Wrong Proof!"})}),"purchased"===e.state&&(0,n.jsxs)("div",{className:"mt-2",children:[(0,n.jsx)(u.zx,{onClick:function(){return Z(e.hash)},variant:"green",children:"Activate"}),(0,n.jsx)(u.zx,{onClick:function(){return A(e.hash)},variant:"red",children:"Deactivate"})]})]},e.ownedCourseId)};if(!C.isAdmin)return null;var I=null===(e=_.data)||void 0===e?void 0:e.filter((function(e){return"all"===y.state||e.state===y.state})).map((function(e){return E(e)}));return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.Y,{}),(0,n.jsx)(d.Gt,{onFilterSelect:function(e){return N({state:e})},onSearchSubmit:D}),(0,n.jsxs)("section",{className:"grid grid-cols-1",children:[v&&(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-2xl font-bold p-5",children:"Search"}),E(v,!0)]}),(0,n.jsx)("h1",{className:"text-2xl font-bold p-5",children:"All Courses"}),I,0===(null===I||void 0===I?void 0:I.length)&&(0,n.jsx)(u.v0,{type:"warning",children:"No courses to display"})]})]})}g.Layout=h.I},73075:function(e,t,r){"use strict";r.d(t,{f:function(){return a}});var n=r(85893),s=r(39249),a=function(e){s.Am.promise(e,{pending:{render:function(){return(0,n.jsxs)("div",{className:"p-6 py-2",children:[(0,n.jsx)("p",{className:"mb-2",children:"Your transaction is being processed."}),(0,n.jsx)("p",{children:"Hang tight... Just few more moments."})]})},icon:!1},success:{render:function(e){var t=e.data;return(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{className:"font-bold",children:["Tx: ",t.transactionHash.slice(0,20),"..."]}),(0,n.jsx)("p",{children:"Has been succesfuly processed."}),(0,n.jsx)("a",{href:"https://ropsten.etherscan.io/tx/".concat(t.transactionHash),target:"_blank",children:(0,n.jsx)("i",{className:"text-green-600 underline",children:"See Tx Details"})})]})},icon:"\ud83d\udfe2"},error:{render:function(e){var t,r=e.data;return(0,n.jsx)("div",{children:null!==(t=r.message)&&void 0!==t?t:"Transaction has failed"})}}},{closeButton:!0})}},61104:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/marketplace/courses/managed",function(){return r(80159)}])}},function(e){e.O(0,[774,482,367,819,888,179],(function(){return t=61104,e(e.s=t);var t}));var t=e.O();_N_E=t}]);